<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>CricStats</title>
	<link rel="stylesheet" href="../styles.css">
	<link rel="stylesheet" href="fixtures.css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
</head>
<body onload="display()">
	<nav class="nav navbar sticky-top navbar-dark bg-dark">
		<div class="container-fluid">
		<a class="navbar-brand" href="#">
			<img src="/logo.png" alt="" width="45" height="35" class="d-inline-block align-text-center">
			CricStats
		</a>
		</div>
	</nav>
		<div class=" sidebar">
			<nav class="nav flex-column align-content-center">
				<a class="nav-link" href="/">Home</a>
				<a class="nav-link" href="../series/series.html">Series</a>
				<a class="nav-link" href="results.html">Results</a>
				<a class="nav-link" href="../fixtures/fixtures.html">Fixtures</a>
			</nav>
		</div>
		<div class="content">
			<div class="container row justify-content-around" id="fixtures_cards">
				
			</div>
		</div>
	</div>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
	<script src="results.js"></script>
	<script>
		function time(str){
			let h = `${Number(str.substr(11,2)) + 5 >= 24 ? Number(str.substr(11,2))-19 : Number(str.substr(11,2)) + 5}`

			let m = `:${(str.substr(14,2))}`
			if(h.length == 1){
				h = '0'.concat(h);
			}
			if(Number(h) < 12){
				return (h.concat(m).concat(" AM IST"))
			}
			else if(Number(h) == 12){
				return (h.concat(m).concat(" PM IST"))
			}
			else{
				return (`${Number(h)-12}`.concat(m).concat(" PM IST"))
			}
		}

		function display(){
			var ref = document.getElementById('fixtures_cards');
			res.results.forEach(element => {
				ref.insertAdjacentHTML('beforeend',`<div class="card text-center card mb-3 col-md-3 offset-md-1 justify-content-center text-center col-sm-6"><div class="card-header card-title">${element.home.name} Vs ${element.away.name}</div><div class="card-body"><h5 class="card-title">${element.match_subtitle}</h5><p><div class="card-text">Result : <b>${element.result}</b></div></p><p class="card-text">Venue : ${element.venue}</p><p class="card-text">Date : ${element.date.substr(8,2)}-${element.date.substr(5,2)}-${element.date.substr(0,4)}<br>Time : ${time(element.date)}</p></div></div>`); 
			});
		}
	</script>
</body>
</html>
